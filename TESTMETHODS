@isTest
public class TestOpportunityTriggerGenericHelper {

    @isTest
    static void testGenericBeforeInsert() {
        // Create test data
        Account acc = new Account(Name = 'Test Account');
        insert acc;
        
        Opportunity opp = new Opportunity(
            Name = 'Test Opportunity',
            StageName = 'Prospecting',
            CloseDate = Date.today(),
            AccountId = acc.Id
        );
        insert opp;

        // Call the method to be tested
        Test.startTest();
        OpportunityTriggerGenericHelper.genericBeforeInsert(new List<SObject>{ opp });
        Test.stopTest();

        // Verify the results
        // Example assertions
        System.assertEquals('Test Opportunity', opp.Name);
        System.assertEquals('Prospecting', opp.StageName);
        System.assertEquals(acc.Id, opp.AccountId);
        // Add more assertions as needed based on your specific requirements and the behavior of the method
    }
}



public static List<CampaignInfluence> getCampInfluenceList(List<string> opprtunityIdList){
        List<CampaignInfluence> campInfluList= new List<CampaignInfluence>();
        campInfluList= [SELECT id,CampaignId, OpportunityId, ModelId, Campaign.Unica_ID__c
                                  FROM CampaignInfluence
                                  WHERE OpportunityId IN :opprtunityIdList];  
        return campInfluList;
    }




 public static List<Opportunity> getParentOppList(Map<Id,Id> clonedOppMap){
        List<Opportunity> parentOpptyList = new List<Opportunity>();
        parentOpptyList = [SELECT id,Unica_ID__c 
                           FROM opportunity 
                           WHERE id=:clonedOppMap.keyset() AND Unica_ID__c!='']; 
        return parentOpptyList;
    }




    public static List<CampaignInfluence> getCampInfluenceList(List<String> oppIdList) {
        List<CampaignInfluence> campInfluList = new List<CampaignInfluence>();
        
        // Mock data for CampaignInfluence records
        for(Integer i = 0; i < 7; i++) { // Set 7 records
            String oppId = 'OpportunityId' + i; // Sample Opportunity Id
            CampaignInfluence campInfluence = new CampaignInfluence(
                Id = Id.valueOf('001XXXXXXXXXXXXXX' + i), // Sample Id, replace with appropriate Id
                CampaignId = 'CampaignId' + i, // Sample CampaignId
                OpportunityId = oppId, // Opportunity Id from the list
                ModelId = 'ModelId' + i, // Sample ModelId
                Campaign = new Campaign(Unica_ID__c = 'UnicaId' + i) // Sample Campaign with Unica_ID__c field set
            );
            campInfluList.add(campInfluence);
        }
        
        return campInfluList;
    }
